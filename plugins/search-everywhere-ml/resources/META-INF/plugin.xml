<idea-plugin>
  <id>com.intellij.searcheverywhere.ml</id>
  <name>Machine Learning in Search Everywhere</name>
  <vendor>JetBrains</vendor>

  <depends optional="true" config-file="vcs-feature-provider.xml">Git4Idea</depends>

  <extensions defaultExtensionNs="com.intellij">
    <searchEverywhereMlService implementation="com.intellij.ide.actions.searcheverywhere.ml.SearchEverywhereMlSessionService" />
    <statistic.eventLog.eventLoggerProvider
      implementation="com.intellij.ide.actions.searcheverywhere.ml.logger.SearchEverywhereEventLoggerProvider"
      order="first" />
  </extensions>

  <extensionPoints>
    <extensionPoint name="searchEverywhereElementFeaturesProvider"
                    interface="com.intellij.ide.actions.searcheverywhere.ml.features.SearchEverywhereElementFeaturesProvider"
                    dynamic="true"/>

    <extensionPoint name="elementKeyForIdProvider"
                    interface="com.intellij.ide.actions.searcheverywhere.ml.id.ElementKeyForIdProvider"
                    dynamic="true"/>
  </extensionPoints>

  <extensions defaultExtensionNs="com.intellij.searcheverywhere.ml">
    <searchEverywhereElementFeaturesProvider
      implementation="com.intellij.ide.actions.searcheverywhere.ml.features.SearchEverywhereFileFeaturesProvider"/>
    <searchEverywhereElementFeaturesProvider
      implementation="com.intellij.ide.actions.searcheverywhere.ml.features.SearchEverywhereActionFeaturesProvider"/>

    <elementKeyForIdProvider implementation="com.intellij.ide.actions.searcheverywhere.ml.id.ActionKeyProvider" />
    <elementKeyForIdProvider implementation="com.intellij.ide.actions.searcheverywhere.ml.id.FileKeyProvider" />
  </extensions>

  <applicationListeners>
    <listener class="com.intellij.filePrediction.features.history.FileHistoryManagerWrapper$ProjectClosureListener"
              topic="com.intellij.openapi.project.ProjectManagerListener"/>
  </applicationListeners>
  <projectListeners>
    <listener class="com.intellij.filePrediction.features.history.FileHistoryManagerWrapper$EditorManagerListener"
              topic="com.intellij.openapi.fileEditor.FileEditorManagerListener"/>
  </projectListeners>
</idea-plugin>